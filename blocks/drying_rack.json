{
   "format_version":"1.16.0",
   "minecraft:block":{
      "description":{
         "identifier":"vatonage:drying_rack",
         "properties":{
            "vatonage:face":[
               2,
               3,
               4,
               5
            ],
            "vatonage:store":[
               1,
               2,
               3,
               4,
               5
            ]
         }
      },
      "components":{
         "minecraft:material_instances":{
            "*":{
               "texture":"drying_rack",
               "render_method":"alpha_test"
            }
         },
         "minecraft:pick_collision": {
             "origin":  [-8, 13, 5],
             "size":    [16, 3, 3]
         },
         "minecraft:entity_collision": {
             "origin":  [-8, 13, 5],
             "size":    [16, 3, 3]
         },
         "minecraft:placement_filter":{
            "conditions":[
               {
                  "allowed_faces":[
                     "north",
                     "south",
                     "east",
                     "west"
                  ]
               }
            ]
         },
         "minecraft:geometry":"geometry.drying_rack",
         "minecraft:destroy_time":0.5,
         "minecraft:on_player_placing":{
            "event":"vatonage:place"
         },
         "minecraft:block_light_absorption":0
      },
      "events":{
         "vatonage:generate":{
            "set_block_property":{
               "vatonage:store":5
            }
         },
         "vatonage:generate2":{
            "set_block_property":{
               "vatonage:store":2
            }
         },
         "vatonage:place":{
            "set_block_property":{
               "vatonage:face":"(query.cardinal_facing_2d)"
            }
         },
         "vatonage:take1":{
                  "spawn_loot":{
                     "table":"loot_tables/entities/leatherloot.json"
                  },
                  "set_block_property":{
                     "vatonage:store":1
                  }
         },
         "vatonage:take2":{
                  "spawn_loot":{
                     "table":"loot_tables/entities/vineloot.json"
                  },
                  "set_block_property":{
                     "vatonage:store":1
                  }
         },
         "vatonage:fill":{
            "sequence":[
               {
                  "condition":"query.get_equipped_item_name == 'sapling' && query.block_property('vatonage:store') == 1",
                  "set_block_property":{
                     "vatonage:store":3
                  },
                  "decrement_stack":{
                     
                  }
               },
               {
                  "condition":"query.get_equipped_item_name == 'rotten_flesh' && query.block_property('vatonage:store') == 1",
                  "set_block_property":{
                     "vatonage:store":4
                  },
                  "decrement_stack":{
                     
                  }
               }
            ]
         }
      },
      "permutations":[
         {
            "condition":"query.block_property('vatonage:store') == 1",
            "components":{
         "minecraft:on_interact":{
            "event":"vatonage:fill"
         },
               "minecraft:material_instances":{
                  "*":{
                     "texture":"drying_rack",
                     "render_method":"alpha_test"
                  }
               }
            }
         },
         {
            "condition":"query.block_property('vatonage:store') == 2",
            "components":{
         "minecraft:on_interact":{
            "event":"vatonage:take1"
         },
               "minecraft:material_instances":{
                  "*":{
                     "texture":"leather_drying_rack",
                     "render_method":"alpha_test"
                  }
               }
            }
         },
         {
            "condition":"query.block_property('vatonage:store') == 3",
            "components":{
               "minecraft:material_instances":{
                  "*":{
                     "texture":"sapling_drying_rack",
                     "render_method":"alpha_test"
                  }
               },
               "minecraft:ticking":{
                  "looping":true,
                  "range":[
                     30,
                     60
                  ],
                  "on_tick":{
                     "event":"vatonage:generate",
                     "target":"self"
                  }
               }
            }
         },
         {
            "condition":"query.block_property('vatonage:store') == 4",
            "components":{
               "minecraft:material_instances":{
                  "*":{
                     "texture":"rotten_flesh_drying_rack",
                     "render_method":"alpha_test"
                  }
               },
               "minecraft:ticking":{
                  "looping":true,
                  "range":[
                     30,
                     60
                  ],
                  "on_tick":{
                     "event":"vatonage:generate2",
                     "target":"self"
                  }
               }
            }
         },
         {
            "condition":"query.block_property('vatonage:store') == 5",
            "components":{
         "minecraft:on_interact":{
            "event":"vatonage:take2"
         },
               "minecraft:material_instances":{
                  "*":{
                     "texture":"vines_drying_rack",
                     "render_method":"alpha_test"
                  }
               }
            }
         },
         {
            "condition":"query.block_property('vatonage:face') == 2",
            "components":{
               "minecraft:rotation":[
                  0,
                  180,
                  0
               ]
            }
         },
         {
            "condition":"query.block_property('vatonage:face') == 3",
            "components":{
               "minecraft:rotation":[
                  0,
                  0,
                  0
               ]
            }
         },
         {
            "condition":"query.block_property('vatonage:face') == 4",
            "components":{
               "minecraft:rotation":[
                  0,
                  270,
                  0
               ]
            }
         },
         {
            "condition":"query.block_property('vatonage:face') == 5",
            "components":{
               "minecraft:rotation":[
                  0,
                  90,
                  0
               ]
            }
         }
      ]
   }
}